<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
	<title>BioDesiger</title>
	<link rel="stylesheet" href="/static/css/dashboard.css">
	<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.css" />
	<!--<script type="text/javascript" src="/static/js/jquery-2.1.1.min.js"></script>-->
	<script type="text/javascript" src="/static/js/jquery-1.7.js" ></script>
	<script type="text/javascript" src="/static/js/jquery-ui-1.8.16.custom.js" ></script>
	<script type="text/javascript" src="/static/js/dashboard.js"></script>
	<script type="text/javascript" src="/static/js/jquery.tmpl.js"></script>
	<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
</head>
<script id="search_part" type="text/x-jquery-tmpl">
    <div class="part_style part_drag show_message " part_name="${part_name}" part_id="${part_id}" part_type="${part_type}"><img src="/static/img/${part_type}.png" alt="logo" class="img-rounded" style="width: 60px;height: 30px;" />${part_name}</div>
</script>
<script id="recommand_part" type="text/x-jquery-tmpl">
	<div class="part_style part_drag show_message " part_name="${part_name}" part_id="${part_id}" part_type="${part_type}" ><img src="/static/img/${part_type}.png" alt="logo" class="img-rounded" style="width: 60px;height: 30px;" />${part_name}</div>
    
</script>
<script id="recommand_part_list" type="text/x-jquery-tmpl">
    <div class="operation_part_style operation_part_drag col-lg-6 col-md-6 col-sm-6" part_id="${part_id}" part_name="${part_name}" part_type="${part_type}"><img src="/static/img/${part_type}.png" alt="logo" class="img-rounded" style="width: 60px;height: 30px;" />${part_name}</div>
</script>
<script id="project-info" type="text/x-jquery-tmpl">
	<div class="project-item switch-project" project-id="${id}">${name} Created by ${creator}</div>
</script>
<script id="part_detail_info" type="text/x-jquery-tmpl">
	
</script>
<body>
    <div id="container">
    	<div id="bananer">
    		<div id="logo">
    			<img src="/static/img/logo_white_small.png" alt="logo" class="img-rounded" >
    		    <span>BioDesigner</span>
    		</div>
    		
    		
    		<ul id="buttonArea">
				<li id="small"><button id="small" class="btn btn-primary">small</button></li>
				<li id="normal"><button id="normal" class="btn btn-primary">normal</button></li>
				<li id="big"><button id="big" class="btn btn-primary">big</button></li>
    		</ul>
    	</div>
    	<div id="main">
    		<div id="sidebar">
				<div id="search_part_container">
					<div class="title">search</div>
					<div class="search_container" >
						<input type="text" class="search_input" id="search_part_input" />
						<button  class="btn btn-success search_button btn-lg" id="search_part_button" >search</button>
					</div>
	                <div class="result_container" id="part_result_container"></div>
	            </div>
				<div id="recommand_container"><!-- recommand start-->
					<div class="title">Recommandations</div>
					<div id="recommand_search_container"></div>
				</div>
    		</div>
    		<div id="dashboard_container">
    			<div id="dashboard" class="row">
    				<div class="part-cell col-lg-2 col-md-2 col-sm-3 col-xs-4 ">
    					<div class="add_style btn-front add_button_receive"><span class=" glyphicon glyphicon-plus"></span></div>
    					<div class="receive_style receivable receive_click">1</div>
    					<div class="add_style btn-back add_button_receive"><span class=" glyphicon glyphicon-plus"></span></div>
    				</div>
    			</div>
    			<canvas id="background" height="1000"  ></canvas>
    		</div>
    	</div>
    </div>
<script type="text/javascript">
	window.chainId = {{id}};
	window.uname = '{{username}}';
</script>
<script type="text/javascript">
	$('#close_info').click(function(event) {
		$('#part_info').addClass('hide');
	});
</script>
<script type="text/javascript">
	$('#newpro-btn').click(function(event) {
		$('#new-project').modal('show');
	});
</script>
<script type="text/javascript">
	$('#create-pro').click(function(event) {
		createProject();
	});
</script>
<script>
	$('#small').click(function(event){
		if(getWidth()){
			setDashBoardFrame(560);
		}else{
			setDashBoardFrame(800);
		}
		setDashBoardFloat();
	});
	$('#normal').click(function(){
		if(getWidth()){
			setDashBoardFrame(700);
		}else{
			setDashBoardFrame(1000);
		}
		setDashBoardFloat();
	});
	$('#big').click(function(){
		if(getWidth()){
			setDashBoardFrame(840);
		}else{
			setDashBoardFrame(1200);
		}
		setDashBoardFloat();
	});
	function setDashBoardFrame(width){
	     $('#dashboard').css("width",width);
	    $('#background').css("width",width);
	    var dashboard_container_width = $('#dashboard_container').width();
	    var padding_left_width = (dashboard_container_width-width)/2;
	    $('#dashboard_container').css("padding-left",padding_left_width);
	    //draw();//画图
    }
    function draw(){
        var width = $('#background').width();
        var canvas = document.getElementById("background");
        var context = canvas.getContext("2d");
        var radius = 45;
        var start = 1.5*Math.PI;
        var stop = 0.5*Math.PI;
        var centerX=width-45;
        var centerY=90;
        context.moveTo(45,45);
        context.lineTo(width-45,45);
        context.arc(centerX,centerY,radius,start,stop);
        context.lineWidth = 10;
        context.strokeStyle = "black";
        
        context.stroke();
    }
    function getWidth(){
    	var total_width=document.documentElement.clientWidth;//获得屏幕宽度
    	if(total_width<1400){
    		return true;
    	}
    	else{
    		return false;
    	}
    }
    function setDashBoardFloat(){
    	var number;
    	var dashboard_width = $('#dashboard').width();
    	var receive_style_width = $('.receive_style').width();
    	if(receive_style_width==100){
    		if (dashboard_width < 560){
    			number = 8;
    		}else if(dashboard_width >= 560 && dashboard_width < 700){
    			number = 10;
    		}else{
    			number = 12;
    		}
    	}
    	var elements = $('#dashboard').children().filter('*').removeClass("floatLeft").removeClass("floatRight");
    	for( var i = 0; i<elements.length; i++){
    	    var row = parseInt(i/number+1);	   
    	    if( row%2==1 ){
    	    	//$(elements[i]).addClass("floatLeft");
    	    }else{
    	    	//$(elements[i]).addClass("floatRight");
    	    }
    	}
    }
   
</script>
</body>
</html>